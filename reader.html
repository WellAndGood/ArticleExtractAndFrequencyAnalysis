<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Reader View</title>

  <head>
    <link rel="stylesheet" href="reader.css">
  </head>
  <style>
    body {
      white-space: pre-wrap;
      font-family: Arial, sans-serif;
      padding: 2rem;
      line-height: 1.6;
    }
  </style>
</head>

<body>
  <div id="speechPanel" style="display:none;">
    <button id="closeSpeechPanel">✖</button>
    <h3>Choose Your Voice Speaker:</h3>
    <select id="voiceSelect"></select>
    <h3>Speak Selection</h3>
    <p id="speechText">(No words selected)</p>
    <label>Rate:
      <input type="range" id="speechRate" min="0.5" max="2" step="0.1" value="1">
      <span id="rateValue">1</span>
    </label>
    <label>Pitch:
      <input type="range" id="speechPitch" min="0" max="1.5" step="0.1" value="1">
      <span id="pitchValue">1</span>
    </label>
    <button id="playSpeech">▶️ Play</button>
    
  </div>
  <div id="shortcutsPanel">
    </br>
    </br>
    </br>
    <h3 class="shortcutsH3">Keyboard Shortcuts</h3>
    <button id="closeShortcutsPanel">✖</button>
    <span>
      <p class="shortcutsListItem"><strong>V + V</strong>: Speak selected words and Open Speech Panel</p>
      <p class="shortcutsListItem"><strong>A + A</strong>: Open 'Proper Name' Registration Panel</p>
      <p class="shortcutsListItem"><strong>T + T</strong>: Open 'Top 15' Words Practice Panel</p>
      <p class="shortcutsListItem"><strong>Click + Drag</strong>: Select text</p>
      <p class="shortcutsListItem"><strong>Double Click</strong>: Clear highlights</p>
      <p class="shortcutsListItem"><strong>Ctrl + F</strong>: Find in page</p>
    </span>
  </div>
  <div id="sidePanel">
    <button id="closeSidePanel">✖</button>
    <h3>Top 15 Words</h3>
    <table id="topWordsTable">
      <thead>
        <tr>
          <th>Word</th>
          <th>Freq. Rank</th>
          <th>Count</th>
          <th>Lemma</th>
          <th>Hear</th>
          <th>Practiced?</th>
        </tr>
      </thead>
      <tbody id="topWordsList">
        <!-- Rows will be dynamically injected here -->
      </tbody>
    </table>
  </div>

  <div id="agentPanel">
    <button id="closeAgentPanel">✖</button>
    <h3>Register Proper Name</h3>
    <input type="text" id="agentInput" style="width: 90%; padding: 5px; margin-top: 5px;" />
    <div id="matchStatus" style="margin-top:4px; font-size:0.9em; color:#555;"></div>
    <div id="agentTypes">
      <label><input type="radio" name="agentType" value="person"> Person</label>
      <label><input type="radio" name="agentType" value="company"> Company/Org.</label>
      <label><input type="radio" name="agentType" value="publication"> Publication</label>
      <label><input type="radio" name="agentType" value="alias"> Alias (e.g., acronym, nickname)</label>
      <label><input type="radio" name="agentType" value="location"> Location</label>
    </div>
    <div id="aliasForContainer" style="display:none; margin-top:10px;">
      <input type="text" id="aliasForInput" placeholder="Alias for..." autocomplete="off" />
      <ul id="suggestions" class="suggestions"></ul>
    </div>

    <button id="registerAgentBtn">Submit Info</button>
  </div>

  <div id="mainContent">
    <button id="shortcutsBtn" title="Show Shortcuts">Shortcuts</button>
    <button id="togglePanelBtn">Show Panel</button>
    <div id="titleContainer" class="word-container title-container"></div>
    <div id="content" class="word-container content-container"></div>
  </div>
  <script type="module" src="reader.js"></script>
</body>

</html>